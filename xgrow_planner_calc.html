<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä unit-—ç–∫–æ–Ω–æ–º–∏–∫–∏ ‚Äî –ö–æ–º–º–µ—Ä—á–µ—Å–∫–∏–π –¥–∏—Ä–µ–∫—Ç–æ—Ä –Ω–∞ –∞—É—Ç—Å–æ—Ä—Å–µ</title>
  <meta name="description" content="–ü—Ä–µ–º–∏–∞–ª—å–Ω—ã–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä unit-—ç–∫–æ–Ω–æ–º–∏–∫–∏ –¥–ª—è –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–æ–≤: –º–∞—Ä–∂–∞, –ø—Ä–∏–±—ã–ª—å, ROI, –±–µ–∑—É–±—ã—Ç–æ–∫. –£—á–∏—Ç—ã–≤–∞–µ—Ç –∫–æ–º–∏—Å—Å–∏–∏, –ª–æ–≥–∏—Å—Ç–∏–∫—É, —Ä–µ–∫–ª–∞–º—É –∏ –Ω–∞–ª–æ–≥–∏." />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="assets/styles.css" />
  <!-- Yandex.Metrika counter -->
  <script type="text/javascript">
      (function(m,e,t,r,i,k,a){
          m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
          m[i].l=1*new Date();
          for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}
          k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)
      })(window, document,'script','https://mc.yandex.ru/metrika/tag.js?id=105600432', 'ym');

      ym(105600432, 'init', {ssr:true, webvisor:true, clickmap:true, ecommerce:"dataLayer", referrer: document.referrer, url: location.href, accurateTrackBounce:true, trackLinks:true});
  </script>
  <noscript><div><img src="https://mc.yandex.ru/watch/105600432" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
  <!-- /Yandex.Metrika counter -->
</head>
<body data-ym-id="105600432">
  <header class="topbar">
    <div class="container nav">
      <div class="brand"><span class="logo">ü¶ä</span><span>–ö–æ–º–º–µ—Ä—á–µ—Å–∫–∏–π –¥–∏—Ä–µ–∫—Ç–æ—Ä</span></div>
      <nav class="navlinks" id="navLinks">
        <a href="index.html">–ì–ª–∞–≤–Ω–∞—è</a>
        <a href="services.html">–£—Å–ª—É–≥–∏</a>
        <a href="cases.html">–ö–µ–π—Å—ã</a>
        <a href="demos.html" class="active">–î–µ–º–æ</a>
      </nav>
      <div class="navcta">
        <a class="btn primary" href="tg.html?g=lead_calc" target="_blank" rel="noopener" data-track="lead_calc">–ù–∞–ø–∏—Å–∞—Ç—å –≤ Telegram</a>
        <button class="burger" id="burger" aria-label="–ú–µ–Ω—é">‚ò∞</button>
      </div>
    </div>
  </header>

  <main>
    <section class="hero small" data-reveal>
      <div class="container">
        <span class="chip">Unit-—ç–∫–æ–Ω–æ–º–∏–∫–∞</span>
        <h1>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –º–∞—Ä–∂–∏, –ø—Ä–∏–±—ã–ª–∏ –∏ –±–µ–∑—É–±—ã—Ç–∫–∞</h1>
        <p>–ë—ã—Å—Ç—Ä–æ –ø—Ä–∏–∫–∏–Ω—å—Ç–µ ¬´–≤–∏–ª–∫–∏¬ª –ø–æ —Ü–µ–Ω–µ, —Ä–µ–∫–ª–∞–º–µ –∏ –∫–æ–º–∏—Å—Å–∏—è–º. –î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∏—à–∏, –±–∞–Ω–¥–ª–æ–≤, —Ä–µ–±—Ä–µ–Ω–¥–∏–Ω–≥–∞ –∏ –ø–µ—Ä–µ–¥ –∑–∞–∫—É–ø–æ–º.</p>
        <div class="hero-ctas">
          <a class="btn primary" href="#calc" data-track="calc_scroll">–û—Ç–∫—Ä—ã—Ç—å –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä</a>
          <a class="btn" href="demos.html">–ù–∞–∑–∞–¥ –∫ –¥–µ–º–æ</a>
        </div>
      </div>
    </section>

    <section id="calc" class="section">
      <div class="container">
        <div class="section-head" data-reveal>
          <h2>–ü–∞—Ä–∞–º–µ—Ç—Ä—ã</h2>
          <p class="muted">–ü–æ–ª—è –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –ø—É—Å—Ç—ã–º–∏ ‚Äî –±—É–¥—É—Ç –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é. –í—Å—ë —Å—á–∏—Ç–∞–µ—Ç—Å—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ.</p>
        </div>

        <div class="grid2" style="align-items:start" data-stagger="70">
          <div class="card" data-reveal>
            <h3>–¶–µ–Ω–∞ –∏ —Å–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç—å</h3>
            <div class="form">
              <label class="field">
                <span>–¶–µ–Ω–∞ –ø—Ä–æ–¥–∞–∂–∏ (‚ÇΩ)</span>
                <input id="price" type="number" inputmode="decimal" step="1" value="3990" />
              </label>
              <label class="field">
                <span>–°–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç—å (‚ÇΩ)</span>
                <input id="cogs" type="number" inputmode="decimal" step="1" value="1450" />
              </label>
              <label class="field">
                <span>–£–ø–∞–∫–æ–≤–∫–∞ / –º–∞—Ä–∫–∏—Ä–æ–≤–∫–∞ (‚ÇΩ)</span>
                <input id="pack" type="number" inputmode="decimal" step="1" value="90" />
              </label>
              <label class="field">
                <span>–ü—Ä–æ—á–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (‚ÇΩ)</span>
                <input id="other" type="number" inputmode="decimal" step="1" value="0" />
              </label>
            </div>
            <div class="callout">
              <div class="pill">–°–æ–≤–µ—Ç</div>
              <p class="muted" style="margin:8px 0 0">–°–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç—å –ª—É—á—à–µ —É–∫–∞–∑—ã–≤–∞—Ç—å ¬´–≤—Å—ë –≤–∫–ª—é—á–µ–Ω–æ¬ª: –∑–∞–∫—É–ø + –¥–æ—Å—Ç–∞–≤–∫–∞ –¥–æ –†–§ + —Ç–∞–º–æ–∂–Ω—è + —Ñ—É–ª—Ñ–∏–ª–º–µ–Ω—Ç (–µ—Å–ª–∏ –≤—ã –µ–≥–æ —Å—á–∏—Ç–∞–µ—Ç–µ –∫–∞–∫ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–π).</p>
            </div>
          </div>

          <div class="card" data-reveal>
            <h3>–ö–æ–º–∏—Å—Å–∏–∏ –∏ –ª–æ–≥–∏—Å—Ç–∏–∫–∞</h3>
            <div class="form">
              <label class="field">
                <span>–ö–æ–º–∏—Å—Å–∏—è –ú–ü (%)</span>
                <input id="commission" type="number" inputmode="decimal" step="0.1" value="17" />
              </label>
              <label class="field">
                <span>–≠–∫–≤–∞–π—Ä–∏–Ω–≥ / –ø–ª–∞—Ç–µ–∂–∏ (%)</span>
                <input id="payment" type="number" inputmode="decimal" step="0.1" value="1.5" />
              </label>
              <label class="field">
                <span>–õ–æ–≥–∏—Å—Ç–∏–∫–∞ –Ω–∞ –∑–∞–∫–∞–∑ (‚ÇΩ)</span>
                <input id="logistics" type="number" inputmode="decimal" step="1" value="220" />
              </label>
              <label class="field">
                <span>–•—Ä–∞–Ω–µ–Ω–∏–µ / —Ñ—É–ª—Ñ–∏–ª–º–µ–Ω—Ç (‚ÇΩ)</span>
                <input id="storage" type="number" inputmode="decimal" step="1" value="0" />
              </label>
            </div>
            <div class="muted" style="font-size:13px">–ö–æ–º–∏—Å—Å–∏–∏ —Å—á–∏—Ç–∞—é—Ç—Å—è –æ—Ç —Ü–µ–Ω—ã –ø—Ä–æ–¥–∞–∂–∏. –õ–æ–≥–∏—Å—Ç–∏–∫–∞/—Ö—Ä–∞–Ω–µ–Ω–∏–µ ‚Äî –∫–∞–∫ —Ñ–∏–∫—Å –Ω–∞ –µ–¥–∏–Ω–∏—Ü—É.</div>
          </div>

          <div class="card" data-reveal>
            <h3>–†–µ–∫–ª–∞–º–∞ –∏ –≤–æ–∑–≤—Ä–∞—Ç—ã</h3>
            <div class="form">
              <label class="field">
                <span>–†–µ–∫–ª–∞–º–∞ (–î–†–†, %)</span>
                <input id="ads" type="number" inputmode="decimal" step="0.1" value="12" />
              </label>
              <label class="field">
                <span>–í–æ–∑–≤—Ä–∞—Ç—ã (%)</span>
                <input id="returns" type="number" inputmode="decimal" step="0.1" value="8" />
              </label>
              <label class="field">
                <span>–°—Ç–æ–∏–º–æ—Å—Ç—å –≤–æ–∑–≤—Ä–∞—Ç–∞ (‚ÇΩ/–≤–æ–∑–≤—Ä–∞—Ç)</span>
                <input id="return_fee" type="number" inputmode="decimal" step="1" value="160" />
              </label>
              <label class="field">
                <span>–°–∫–∏–¥–∫–∞/–∞–∫—Ü–∏–∏ (%, –æ—Ç —Ü–µ–Ω—ã)</span>
                <input id="discount" type="number" inputmode="decimal" step="0.1" value="0" />
              </label>
            </div>
            <div class="callout">
              <div class="pill">–í–∞–∂–Ω–æ</div>
              <p class="muted" style="margin:8px 0 0">–í–æ–∑–≤—Ä–∞—Ç—ã —É–º–µ–Ω—å—à–∞—é—Ç —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—É—é –≤—ã—Ä—É—á–∫—É –∏ –¥–æ–±–∞–≤–ª—è—é—Ç –∏–∑–¥–µ—Ä–∂–∫–∏ –Ω–∞ –æ–±—Ä–∞—Ç–Ω—É—é –ª–æ–≥–∏—Å—Ç–∏–∫—É. –≠—Ç–æ ¬´–≥—Ä—É–±–∞—è¬ª –º–æ–¥–µ–ª—å, –Ω–æ –¥–ª—è —Ä–µ—à–µ–Ω–∏–π –¥–æ –∑–∞–∫—É–ø–∞ ‚Äî –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø—Ä–∞–∫—Ç–∏—á–Ω–æ.</p>
            </div>
          </div>

          <div class="card" data-reveal>
            <h3>–ù–∞–ª–æ–≥–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</h3>
            <div class="form">
              <label class="field">
                <span>–ù–∞–ª–æ–≥ (%)</span>
                <input id="tax" type="number" inputmode="decimal" step="0.1" value="6" />
              </label>
              <label class="field">
                <span>–¶–µ–ª—å –ø–æ –º–∞—Ä–∂–µ (%)</span>
                <input id="target_margin" type="number" inputmode="decimal" step="0.1" value="25" />
              </label>
              <div class="grid2" style="gap:10px">
                <button class="btn" id="save">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø—Ä–µ—Å–µ—Ç</button>
                <button class="btn" id="reset">–°–±—Ä–æ—Å</button>
              </div>
            </div>
            <div class="muted" style="font-size:13px">–ü—Ä–µ—Å–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ (localStorage). –ú–æ–∂–Ω–æ –±—ã—Å—Ç—Ä–æ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å—Å—è –º–µ–∂–¥—É SKU.</div>
          </div>
        </div>

        <div class="grid2" style="margin-top:16px; align-items:stretch" data-stagger="70">
          <div class="card" data-reveal>
            <h3>–†–µ–∑—É–ª—å—Ç–∞—Ç</h3>
            <div class="grid2" style="gap:12px">
              <div class="stat" style="padding:14px;border:1px solid var(--line);border-radius:14px;background:rgba(0,0,0,.15)">
                <div class="muted">–ü—Ä–∏–±—ã–ª—å / —à—Ç</div>
                <div class="big" id="profit">‚Äî</div>
              </div>
              <div class="stat" style="padding:14px;border:1px solid var(--line);border-radius:14px;background:rgba(0,0,0,.15)">
                <div class="muted">–ú–∞—Ä–∂–∞</div>
                <div class="big" id="margin">‚Äî</div>
              </div>
              <div class="stat" style="padding:14px;border:1px solid var(--line);border-radius:14px;background:rgba(0,0,0,.15)">
                <div class="muted">ROI (–Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ)</div>
                <div class="big" id="roi">‚Äî</div>
              </div>
              <div class="stat" style="padding:14px;border:1px solid var(--line);border-radius:14px;background:rgba(0,0,0,.15)">
                <div class="muted">–ë–µ–∑—É–±—ã—Ç–æ–∫ –ø–æ —Ü–µ–Ω–µ</div>
                <div class="big" id="breakeven">‚Äî</div>
              </div>
            </div>

            <div class="callout" style="margin-top:12px">
              <div class="pill">–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è</div>
              <p class="muted" style="margin:8px 0 0" id="recommend">‚Äî</p>
            </div>
          </div>

          <div class="card" data-reveal>
            <h3>–†–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∞ –∑–∞—Ç—Ä–∞—Ç</h3>
            <div class="form">
              <div class="row"><span class="muted">–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞—è —Ü–µ–Ω–∞ –ø–æ—Å–ª–µ —Å–∫–∏–¥–∫–∏</span><b id="eff_price">‚Äî</b></div>
              <div class="row"><span class="muted">–í—ã—Ä—É—á–∫–∞ —Å —É—á—ë—Ç–æ–º –≤–æ–∑–≤—Ä–∞—Ç–æ–≤</span><b id="eff_rev">‚Äî</b></div>
              <div class="row"><span class="muted">–ö–æ–º–∏—Å—Å–∏—è –ú–ü</span><b id="cost_comm">‚Äî</b></div>
              <div class="row"><span class="muted">–≠–∫–≤–∞–π—Ä–∏–Ω–≥</span><b id="cost_pay">‚Äî</b></div>
              <div class="row"><span class="muted">–†–µ–∫–ª–∞–º–∞</span><b id="cost_ads">‚Äî</b></div>
              <div class="row"><span class="muted">–õ–æ–≥–∏—Å—Ç–∏–∫–∞</span><b id="cost_log">‚Äî</b></div>
              <div class="row"><span class="muted">–í–æ–∑–≤—Ä–∞—Ç—ã (–æ–∂–∏–¥.)</span><b id="cost_ret">‚Äî</b></div>
              <div class="row"><span class="muted">–ù–∞–ª–æ–≥</span><b id="cost_tax">‚Äî</b></div>
              <div class="row"><span class="muted">–°–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç—å + —É–ø–∞–∫–æ–≤–∫–∞ + –ø—Ä–æ—á–µ–µ</span><b id="cost_cogs">‚Äî</b></div>
              <div class="hr"></div>
              <div class="row"><span class="muted">–ò—Ç–æ–≥–æ –∑–∞—Ç—Ä–∞—Ç</span><b id="total">‚Äî</b></div>
            </div>
            <div class="muted" style="font-size:13px">–°–¥–µ–ª–∞–π—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ ¬´—Å—Ü–µ–Ω–∞—Ä–∏–µ–≤¬ª: —Ä–µ–∫–ª–∞–º–∞ 8% / 12% / 18% –∏ –ø–æ—Å–º–æ—Ç—Ä–∏—Ç–µ, –≥–¥–µ –æ—Å—Ç–∞—ë—Ç—Å—è –ø—Ä–∏–±—ã–ª—å.</div>
          </div>
        </div>

      </div>
    </section>
  </main>

  <footer class="footer">
    <div class="container">
      <div class="muted">¬© –ö–æ–º–º–µ—Ä—á–µ—Å–∫–∏–π –¥–∏—Ä–µ–∫—Ç–æ—Ä –Ω–∞ –∞—É—Ç—Å–æ—Ä—Å–µ ‚Ä¢ ü¶ä Sunfox</div>
    </div>
  </footer>

  <script src="assets/site.js"></script>
  <script>
    // ---- calculator logic ----
    const nf = new Intl.NumberFormat('ru-RU');
    const pct = (x) => (Math.round(x * 10) / 10).toFixed(1) + '%';
    const rub = (x) => (x < 0 ? '‚àí' : '') + nf.format(Math.abs(Math.round(x))) + ' ‚ÇΩ';

    const ids = [
      'price','cogs','pack','other',
      'commission','payment','logistics','storage',
      'ads','returns','return_fee','discount',
      'tax','target_margin'
    ];
    const el = Object.fromEntries(ids.map(id => [id, document.getElementById(id)]));

    const out = {
      profit: document.getElementById('profit'),
      margin: document.getElementById('margin'),
      roi: document.getElementById('roi'),
      breakeven: document.getElementById('breakeven'),
      recommend: document.getElementById('recommend'),
      eff_price: document.getElementById('eff_price'),
      eff_rev: document.getElementById('eff_rev'),
      cost_comm: document.getElementById('cost_comm'),
      cost_pay: document.getElementById('cost_pay'),
      cost_ads: document.getElementById('cost_ads'),
      cost_log: document.getElementById('cost_log'),
      cost_ret: document.getElementById('cost_ret'),
      cost_tax: document.getElementById('cost_tax'),
      cost_cogs: document.getElementById('cost_cogs'),
      total: document.getElementById('total')
    };

    function num(v, def = 0) {
      const n = Number(v);
      return Number.isFinite(n) ? n : def;
    }

    function calc() {
      const P = Math.max(0, num(el.price.value, 0));
      const cogs = Math.max(0, num(el.cogs.value, 0));
      const pack = Math.max(0, num(el.pack.value, 0));
      const other = Math.max(0, num(el.other.value, 0));

      const commP = Math.max(0, num(el.commission.value, 0)) / 100;
      const payP = Math.max(0, num(el.payment.value, 0)) / 100;
      const log = Math.max(0, num(el.logistics.value, 0));
      const storage = Math.max(0, num(el.storage.value, 0));

      const adsP = Math.max(0, num(el.ads.value, 0)) / 100;
      const retP = Math.min(0.99, Math.max(0, num(el.returns.value, 0)) / 100);
      const retFee = Math.max(0, num(el.return_fee.value, 0));
      const discP = Math.min(0.95, Math.max(0, num(el.discount.value, 0)) / 100);

      const taxP = Math.max(0, num(el.tax.value, 0)) / 100;
      const targetMarginP = Math.max(0, num(el.target_margin.value, 0)) / 100;

      // Effective price after discounts
      const effPrice = P * (1 - discP);

      // Revenue adjusted for returns
      const effRev = effPrice * (1 - retP);

      const costComm = effPrice * commP;
      const costPay = effPrice * payP;
      const costAds = effPrice * adsP;
      const costLog = log;
      const costRet = retP * retFee;
      const costTax = effRev * taxP;
      const costCogs = cogs + pack + other + storage;

      const total = costComm + costPay + costAds + costLog + costRet + costTax + costCogs;
      const profit = effRev - total;
      const margin = effRev > 0 ? (profit / effRev) : 0;
      const roiBase = costCogs + costLog + costRet + storage;
      const roi = roiBase > 0 ? (profit / roiBase) : 0;

      // Break-even price
      const fixed = costCogs + costLog + costRet; // variable fixed-per-unit part
      const pctCosts = (commP + payP + adsP) * (1 - discP) + taxP * (1 - retP) * (1 - discP);
      const revCoef = (1 - retP) * (1 - discP);
      const denom = Math.max(0.01, revCoef - pctCosts);
      const breakeven = fixed / denom;

      // Recommended price for target margin
      // profit = effRev*(1-targetMargin) - total? We'll solve by scaling P until margin meets.
      let rec = P;
      if (P > 0 && targetMarginP > 0) {
        // analytic approximation
        const desiredProfit = targetMarginP;
        const denom2 = Math.max(0.01, revCoef - pctCosts - revCoef * desiredProfit);
        rec = fixed / denom2;
      }

      out.profit.textContent = rub(profit);
      out.margin.textContent = pct(margin * 100);
      out.roi.textContent = pct(roi * 100);
      out.breakeven.textContent = rub(breakeven);

      out.eff_price.textContent = rub(effPrice);
      out.eff_rev.textContent = rub(effRev);
      out.cost_comm.textContent = rub(costComm);
      out.cost_pay.textContent = rub(costPay);
      out.cost_ads.textContent = rub(costAds);
      out.cost_log.textContent = rub(costLog);
      out.cost_ret.textContent = rub(costRet);
      out.cost_tax.textContent = rub(costTax);
      out.cost_cogs.textContent = rub(costCogs);
      out.total.textContent = rub(total);

      const recText = (profit >= 0)
        ? `–°–µ–π—á–∞—Å –º–æ–¥–µ–ª—å –≤ –ø–ª—é—Å–µ. –î–ª—è —Ü–µ–ª–∏ ${pct(targetMarginP*100)} –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Ü–µ–Ω—É –æ–∫–æ–ª–æ ${rub(rec)} (–∫–∞–∫ –æ—Ä–∏–µ–Ω—Ç–∏—Ä) ‚Äî –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –ø–æ —Ä–µ–∫–ª–∞–º–µ.`
        : `–°–µ–π—á–∞—Å –º–æ–¥–µ–ª—å –≤ –º–∏–Ω—É—Å–µ. –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞ –±–µ–∑—É–±—ã—Ç–∫–∞ –æ–∫–æ–ª–æ ${rub(breakeven)}. –ò—â–∏—Ç–µ —Ä—ã—á–∞–≥–∏: —Å–Ω–∏–∑–∏—Ç—å –î–†–†, –ª–æ–≥–∏—Å—Ç–∏–∫—É, –∫–æ–º–∏—Å—Å–∏—é/–∫–∞—Ç–µ–≥–æ—Ä–∏—é –∏–ª–∏ —Å–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç—å.`;
      out.recommend.textContent = recText;
    }

    function loadPreset() {
      try {
        const raw = localStorage.getItem('xgrow_calc_preset');
        if (!raw) return;
        const data = JSON.parse(raw);
        ids.forEach(id => {
          if (data[id] !== undefined) el[id].value = data[id];
        });
      } catch(_) {}
    }

    function savePreset() {
      const data = {};
      ids.forEach(id => data[id] = el[id].value);
      try { localStorage.setItem('xgrow_calc_preset', JSON.stringify(data)); } catch(_) {}
    }

    document.getElementById('save').addEventListener('click', () => {
      savePreset();
      try { if (typeof ym === 'function') ym(105600432,'reachGoal','calc_save'); } catch(_) {}
    });

    document.getElementById('reset').addEventListener('click', () => {
      localStorage.removeItem('xgrow_calc_preset');
      el.price.value = 3990;
      el.cogs.value = 1450;
      el.pack.value = 90;
      el.other.value = 0;
      el.commission.value = 17;
      el.payment.value = 1.5;
      el.logistics.value = 220;
      el.storage.value = 0;
      el.ads.value = 12;
      el.returns.value = 8;
      el.return_fee.value = 160;
      el.discount.value = 0;
      el.tax.value = 6;
      el.target_margin.value = 25;
      calc();
      try { if (typeof ym === 'function') ym(105600432,'reachGoal','calc_reset'); } catch(_) {}
    });

    ids.forEach(id => {
      el[id].addEventListener('input', () => {
        calc();
      });
    });

    loadPreset();
    calc();
  </script>

  <script>
    // init metrika
    try {
      if (typeof ym === 'function') {
        ym(105600432, "init", {
          clickmap:true,
          trackLinks:true,
          accurateTrackBounce:true,
          webvisor:true
        });
      }
    } catch(e) {}
  </script>
</body>
</html>
